# A JavaScript Gameboy Assembler

**gbasm** is a JavaScript based compiler for Gameboy z80 assembly code which focus
lies on speed, good error messages and general support for gameboy development.

Features include:

- Automatic insertion of `nop` after the `halt` instruction
- Assembly optimization e.g. replacing `ld,$ff80` with `ldh,$80`
- Generation of symbol files for usage with debuggers (i.e. `bgb`)
- Generation of detail rom mapping reports (useful for squeezing out the last bytes)


```
Usage: gbasm [options] files

   --mapfile, -m <s>: Name of the ROM mapping file to be generated (default: none)
  --optimize, -O <n>: Set optimization level (default: 0)
   --outfile, -o <s>: The name of the output rom file (default: game.gb)
        --silent, -S: Do not produce any logging output (default: false)
   --symfile, -s <s>: Name of the symbol map file to be generated (default: none)
       --verbose, -v: Turn on verbose logging (default: false)
       --version, -V: Version information (default: false)
      --warnings, -w: Enable compiler warnings (default: false)
              --help: Display this help text
```


### Installation

Make sure you have Node.js and npm installed (npm normally comes with Node.js 
so you don't have to do anything special in order to get it).

If you got both of them ready, install the `gbasm` binary via the follow `npm` command:

```
$ npm install -g gbasm
```


### Implementation Status

Code and ROM generation are working, although there might still be some edge cases 
were things fall apart.
 
Below is a list of things which are severely missing / incomplete at the time:

- The verbose has no affect at the moment
- Some errors do not yet have fully fledged compiler messages and will simply throw a `TypeError`, crashing the compiler
- There are no additional compiler warnings generated by the `--warnings` at the moment
- There's only one `MACRO` function implemented at the time which is `UPRSTR`
- No user defineable macros just yet


### License

Licensed under MIT.

